---
const apiKey = import.meta.env.PUBLIC_GOOGLE_MAPS_API_KEY;
if (!apiKey) {
  console.error("Google Maps API anahtarı bulunamadı. Üretim ortamında ortam değişkenini kontrol edin.");
}

// Önceki konumu tanımla
const location = { lat: 37.7749, lng: -122.4194 };
---

<div id="map" class="map-container"></div>
<script async defer src={`https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap`}></script>

<script>
  window.initMap = function () {
    // Haritayı başlat
    const map = new google.maps.Map(document.getElementById('map'), {
      center: { lat: 37.7749, lng: -122.4194 }, // Önceki konum
      zoom: 12,
      styles: [
        { featureType: "water", elementType: "geometry", stylers: [{ color: "#e9e9e9" }] },
        { featureType: "landscape", elementType: "geometry", stylers: [{ color: "#f5f5f5" }] },
        { featureType: "road", elementType: "geometry", stylers: [{ color: "#ffffff" }] },
      ],
    });

    // Marker ekle
    const marker = new google.maps.Marker({
      position: { lat: 37.7749, lng: -122.4194 }, // Önceki konum
      map: map,
      title: "Burası!", // Marker üzerine gelindiğinde görünecek metin (isteğe bağlı)
    });
  };
</script>

<style>
  .map-container {
    width: 100%;
    height: 400px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
</style>